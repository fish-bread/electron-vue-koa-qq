<!--suppress ALL -->
<script setup>
import { user } from '../../../function/user'
import {
  moreBox,
  moreBoxButton,
  toggleMoreBox,
  showMoreBox,
  moreBoxButtonText,
  loginOut,
  appSet
} from '../../../function/boxclick/clickOut'
import UserMiniBox from '../../../components/user/userMiniBox.vue'
import { UserMiniBoxClick, MiniUserBoxButton } from '../../../function/boxclick/userminibox'
import { accent_color } from '../../../function/colorPalette'
import { selectedItem, selectItem } from '../../../function/changePage'
import { webUrl } from '../../../function/changePage'
</script>

<template>
  <div class="body-sidebar">
    <!--logo-->
    <div class="body-sidebar-logo">test</div>
    <!--用户头像-->
    <div ref="MiniUserBoxButton" class="body-sidebar-user_headshot" @click.stop="UserMiniBoxClick">
      <img :src="user.user_headshot" alt="" />
      <!--迷你用户信息盒子-->
      <user-mini-box></user-mini-box>
    </div>
    <!--列表-->
    <div class="body-sidebar-list">
      <!--聊天消息-->
      <div
        class="body-sidebar-list-svg"
        title="聊天消息"
        :class="{ selected: selectedItem === 'chat' }"
        @click="selectItem('chat')"
      >
        <svg
          t="1742349978084"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="3237"
          width="200"
          height="200"
        >
          <path
            d="M938.666667 93.866667H85.333333c-17.066667 0-34.133333 17.066667-34.133333 34.133333v640c0 17.066667 12.8 34.133333 34.133333 34.133333h162.133334v76.8c0 12.8 4.266667 21.333333 17.066666 25.6 4.266667 4.266667 12.8 4.266667 17.066667 4.266667s8.533333 0 12.8-4.266667l204.8-102.4H938.666667c17.066667 0 34.133333-12.8 34.133333-34.133333V128c0-17.066667-17.066667-34.133333-34.133333-34.133333z m-34.133334 640h-418.133333c-4.266667 0-8.533333 0-12.8 4.266666l-166.4 85.333334V768c0-17.066667-12.8-34.133333-34.133333-34.133333H119.466667V162.133333h789.333333l-4.266667 571.733334z"
            p-id="3238"
          ></path>
          <path d="M298.666667 448m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="3239"></path>
          <path d="M512 448m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="3240"></path>
          <path d="M725.333333 448m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="3241"></path>
        </svg>
      </div>
    </div>
    <!--底部应用列表-->
    <div class="body-sidebar-button-list">
      <!--更多-->
      <div
        ref="moreBoxButton"
        class="body-sidebar-button-list-svg"
        title="更多"
        @click.stop="toggleMoreBox"
      >
        <svg
          t="1742350764132"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="3406"
          width="200"
          height="200"
        >
          <path
            d="M170.666667 285.866667h682.666666c17.066667 0 34.133333-12.8 34.133334-34.133334s-17.066667-29.866667-34.133334-29.866666H170.666667c-17.066667 0-34.133333 17.066667-34.133334 34.133333s17.066667 29.866667 34.133334 29.866667zM853.333333 477.866667H170.666667c-17.066667 0-34.133333 12.8-34.133334 34.133333s12.8 34.133333 34.133334 34.133333h682.666666c17.066667 0 34.133333-12.8 34.133334-34.133333s-17.066667-34.133333-34.133334-34.133333zM853.333333 733.866667H170.666667c-17.066667 0-34.133333 12.8-34.133334 34.133333s12.8 34.133333 34.133334 34.133333h682.666666c17.066667 0 34.133333-12.8 34.133334-34.133333s-17.066667-34.133333-34.133334-34.133333z"
            p-id="3407"
          ></path>
        </svg>
      </div>
      <!--收藏-->
      <div class="body-sidebar-button-list-svg" title="收藏">
        <svg
          t="1742911253062"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="3235"
          width="200"
          height="200"
        >
          <path
            d="M968.533333 405.333333c-4.266667-12.8-12.8-21.333333-25.6-21.333333l-277.333333-42.666667-123.733333-251.733333c-4.266667-12.8-17.066667-17.066667-29.866667-17.066667-12.8 0-21.333333 8.533333-29.866667 17.066667l-123.733333 256-277.333333 38.4c-12.8 0-21.333333 8.533333-25.6 21.333333s0 25.6 8.533333 34.133334l200.533333 196.266666-46.933333 273.066667c0 12.8 4.266667 25.6 12.8 29.866667 4.266667 4.266667 12.8 4.266667 17.066667 4.266666 4.266667 0 8.533333 0 17.066666-4.266666l247.466667-132.266667 247.466667 132.266667c12.8 4.266667 25.6 4.266667 34.133333-4.266667 8.533333-8.533333 12.8-21.333333 12.8-29.866667l-46.933333-273.066666 200.533333-196.266667c8.533333-4.266667 12.8-17.066667 8.533333-29.866667z m-264.533333 196.266667c-8.533333 8.533333-12.8 17.066667-8.533333 29.866667l38.4 226.133333-204.8-110.933333c-4.266667-4.266667-8.533333-4.266667-17.066667-4.266667s-8.533333 0-17.066667 4.266667l-204.8 110.933333 38.4-226.133333c0-8.533333 0-21.333333-8.533333-29.866667l-166.4-166.4L384 401.066667c8.533333 0 21.333333-8.533333 25.6-17.066667L512 179.2l102.4 209.066667c4.266667 8.533333 12.8 17.066667 25.6 17.066666l230.4 34.133334-166.4 162.133333z"
            p-id="3236"
          ></path>
        </svg>
      </div>
      <!--更多盒子-->
      <div v-show="showMoreBox" ref="moreBox" class="body-sidebar-button-list-svg-more-box">
        <!--调色盘按钮-->
        <button class="body-sidebar-button-list-svg-more-box-button" @click="appSet">
          <div class="body-sidebar-button-list-svg-more-box-button-svg">
            <svg
              t="1742370691609"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="3237"
              width="200"
              height="200"
            >
              <path
                d="M921.6 320l-140.8-209.066667c-4.266667-8.533333-17.066667-12.8-25.6-12.8H640c-17.066667 0-34.133333 12.8-34.133333 34.133334 0 51.2-42.666667 93.866667-93.866667 93.866666-51.2 0-93.866667-42.666667-93.866667-93.866666 0-17.066667-12.8-34.133333-34.133333-34.133334H268.8c-12.8-4.266667-21.333333 4.266667-29.866667 12.8L102.4 320c-8.533333 12.8-8.533333 29.866667 4.266667 42.666667l110.933333 93.866666V896c0 17.066667 12.8 34.133333 34.133333 34.133333h524.8c17.066667 0 34.133333-12.8 34.133334-34.133333V456.533333l110.933333-93.866666c8.533333-12.8 8.533333-29.866667 0-42.666667z m-170.666667 98.133333c-8.533333 4.266667-12.8 17.066667-12.8 25.6v422.4H281.6v-422.4c0-8.533333-4.266667-17.066667-12.8-25.6L170.666667 332.8l115.2-170.666667h72.533333c12.8 72.533333 81.066667 128 157.866667 128 76.8 0 140.8-55.466667 157.866666-128h72.533334l115.2 170.666667-110.933334 85.333333z"
                p-id="3238"
              ></path>
            </svg>
          </div>
          <div>{{ moreBoxButtonText[0].name }}</div>
        </button>
        <!--检测更新按钮-->
        <button class="body-sidebar-button-list-svg-more-box-button">
          <div class="body-sidebar-button-list-svg-more-box-button-svg">
            <svg
              t="1742371927459"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="2321"
              width="200"
              height="200"
            >
              <path
                d="M789.333333 618.666667c-12.8-12.8-34.133333-12.8-46.933333 0l-200.533333 200.533333V128c0-17.066667-12.8-34.133333-34.133334-34.133333s-29.866667 17.066667-29.866666 34.133333v691.2l-200.533334-200.533333c-12.8-12.8-34.133333-12.8-46.933333 0s-12.8 34.133333 0 46.933333l256 256c8.533333 8.533333 29.866667 12.8 42.666667 0l256-256c17.066667-17.066667 17.066667-34.133333 4.266666-46.933333z"
                p-id="2322"
              ></path>
            </svg>
          </div>
          <div>{{ moreBoxButtonText[1].name }}</div>
        </button>
        <!--设置按钮-->
        <button class="body-sidebar-button-list-svg-more-box-button" @click="appSet">
          <div class="body-sidebar-button-list-svg-more-box-button-svg">
            <svg
              t="1742372105669"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="7834"
              width="200"
              height="200"
            >
              <path
                d="M951.466667 375.466667c-4.266667-12.8-17.066667-21.333333-34.133334-21.333334-51.2 0-93.866667-42.666667-93.866666-93.866666 0-12.8 4.266667-29.866667 8.533333-42.666667 4.266667-12.8 4.266667-29.866667-8.533333-38.4-55.466667-51.2-119.466667-85.333333-187.733334-106.666667-17.066667-8.533333-29.866667 0-38.4 12.8-17.066667 34.133333-51.2 51.2-85.333333 51.2s-68.266667-17.066667-85.333333-51.2c-8.533333-12.8-21.333333-21.333333-38.4-17.066666-68.266667 21.333333-136.533333 59.733333-187.733334 106.666666-12.8 12.8-12.8 25.6-8.533333 38.4 8.533333 12.8 8.533333 25.6 8.533333 42.666667 0 51.2-42.666667 93.866667-98.133333 93.866667-12.8 0-25.6 8.533333-29.866667 21.333333-12.8 42.666667-21.333333 89.6-21.333333 136.533333 0 29.866667 4.266667 64 8.533333 93.866667 4.266667 17.066667 17.066667 25.6 34.133334 25.6 55.466667-4.266667 106.666667 38.4 106.666666 93.866667 0 21.333333-8.533333 42.666667-21.333333 64-8.533333 12.8-8.533333 29.866667 0 42.666666 55.466667 55.466667 123.733333 98.133333 200.533333 123.733334 17.066667 4.266667 34.133333-4.266667 38.4-21.333334 12.8-38.4 51.2-68.266667 89.6-68.266666 42.666667 0 76.8 25.6 89.6 68.266666 4.266667 12.8 17.066667 21.333333 29.866667 21.333334h8.533333c76.8-21.333333 145.066667-64 200.533334-123.733334 12.8-12.8 12.8-29.866667 0-42.666666-12.8-17.066667-21.333333-38.4-21.333334-64 0-55.466667 51.2-102.4 106.666667-93.866667 17.066667 0 29.866667-8.533333 34.133333-25.6 4.266667-29.866667 8.533333-59.733333 8.533334-93.866667 8.533333-42.666667 0-89.6-12.8-132.266666z m-46.933334 192c-81.066667 8.533333-145.066667 76.8-145.066666 157.866666 0 25.6 8.533333 55.466667 21.333333 76.8-38.4 34.133333-81.066667 59.733333-128 76.8-29.866667-51.2-81.066667-81.066667-140.8-81.066666s-110.933333 29.866667-140.8 81.066666c-46.933333-17.066667-89.6-42.666667-128-76.8 12.8-25.6 21.333333-51.2 21.333333-76.8 0-85.333333-64-153.6-145.066666-157.866666-4.266667-17.066667-4.266667-34.133333-4.266667-55.466667 0-34.133333 4.266667-64 12.8-98.133333C209.066667 405.333333 264.533333 337.066667 264.533333 256c0-17.066667-4.266667-34.133333-8.533333-46.933333 38.4-29.866667 81.066667-55.466667 128-72.533334 29.866667 38.4 76.8 64 128 64s98.133333-25.6 128-64c46.933333 17.066667 85.333333 38.4 123.733333 68.266667-4.266667 17.066667-8.533333 29.866667-8.533333 46.933333 0 81.066667 59.733333 145.066667 136.533333 157.866667 8.533333 29.866667 12.8 64 12.8 98.133333v59.733334z"
                p-id="7835"
              ></path>
              <path
                d="M512 332.8c-98.133333 0-179.2 81.066667-179.2 179.2 0 98.133333 81.066667 179.2 179.2 179.2 98.133333 0 179.2-81.066667 179.2-179.2 0-98.133333-81.066667-179.2-179.2-179.2z m0 298.666667c-64 0-119.466667-51.2-119.466667-119.466667s51.2-119.466667 119.466667-119.466667 119.466667 51.2 119.466667 119.466667-55.466667 119.466667-119.466667 119.466667z"
                p-id="7836"
              ></path>
            </svg>
          </div>
          <div>{{ moreBoxButtonText[2].name }}</div>
        </button>
        <!--帮助按钮-->
        <button class="body-sidebar-button-list-svg-more-box-button">
          <div class="body-sidebar-button-list-svg-more-box-button-svg">
            <svg
              t="1742372166273"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="8003"
              width="200"
              height="200"
            >
              <path
                d="M512 264.533333c-76.8 0-136.533333 59.733333-136.533333 132.266667 0 17.066667 12.8 34.133333 34.133333 34.133333s34.133333-12.8 34.133333-34.133333c0-38.4 34.133333-68.266667 76.8-68.266667 38.4 0 76.8 34.133333 76.8 76.8 0 38.4-34.133333 68.266667-76.8 68.266667-17.066667 0-34.133333 12.8-34.133333 34.133333v68.266667c0 17.066667 12.8 34.133333 34.133333 34.133333s34.133333-12.8 34.133334-34.133333v-38.4c59.733333-12.8 106.666667-68.266667 106.666666-132.266667-12.8-76.8-72.533333-140.8-149.333333-140.8zM512 640c-29.866667 0-51.2 25.6-51.2 51.2s21.333333 55.466667 51.2 55.466667 51.2-25.6 51.2-51.2S541.866667 640 512 640z"
                p-id="8004"
              ></path>
              <path
                d="M512 51.2C260.266667 51.2 51.2 260.266667 51.2 512S260.266667 972.8 512 972.8 972.8 763.733333 972.8 512 763.733333 51.2 512 51.2z m0 853.333333c-217.6 0-392.533333-174.933333-392.533333-392.533333S294.4 119.466667 512 119.466667s392.533333 174.933333 392.533333 392.533333-174.933333 392.533333-392.533333 392.533333z"
                p-id="8005"
              ></path>
            </svg>
          </div>
          <div>{{ moreBoxButtonText[3].name }}</div>
        </button>
        <!--关于按钮-->
        <button
          class="body-sidebar-button-list-svg-more-box-button"
          @click="webUrl('https://github.com/fish-bread/electron-vue-koa-qq')"
        >
          <div class="body-sidebar-button-list-svg-more-box-button-svg">
            <svg
              t="1742372285012"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="8172"
              width="200"
              height="200"
            >
              <path
                d="M836.266667 187.733333c-85.333333-85.333333-200.533333-132.266667-324.266667-132.266666-123.733333 0-238.933333 46.933333-324.266667 132.266666S55.466667 388.266667 55.466667 512c0 123.733333 46.933333 238.933333 132.266666 324.266667s200.533333 132.266667 324.266667 132.266666c123.733333 0 238.933333-46.933333 324.266667-132.266666s132.266667-200.533333 132.266666-324.266667c4.266667-123.733333-46.933333-238.933333-132.266666-324.266667z m-46.933334 601.6c-72.533333 72.533333-174.933333 115.2-277.333333 115.2s-204.8-42.666667-277.333333-115.2c-72.533333-72.533333-115.2-174.933333-115.2-277.333333s42.666667-204.8 115.2-277.333333c72.533333-76.8 170.666667-115.2 277.333333-115.2s204.8 42.666667 277.333333 115.2c72.533333 72.533333 115.2 174.933333 115.2 277.333333s-38.4 204.8-115.2 277.333333z"
                p-id="8173"
              ></path>
              <path
                d="M512 290.133333m-51.2 0a51.2 51.2 0 1 0 102.4 0 51.2 51.2 0 1 0-102.4 0Z"
                p-id="8174"
              ></path>
              <path
                d="M597.333333 691.2h-42.666666V426.666667c0-17.066667-12.8-34.133333-34.133334-34.133334h-42.666666c-17.066667 0-34.133333 12.8-34.133334 34.133334s12.8 34.133333 34.133334 34.133333h8.533333v234.666667h-42.666667c-17.066667 0-34.133333 12.8-34.133333 34.133333s12.8 34.133333 34.133333 34.133333H597.333333c17.066667 0 34.133333-12.8 34.133334-34.133333s-17.066667-38.4-34.133334-38.4z"
                p-id="8175"
              ></path>
            </svg>
          </div>
          <div>{{ moreBoxButtonText[4].name }}</div>
        </button>
        <!--退出登录-->
        <button class="body-sidebar-button-list-svg-more-box-button" @click="loginOut">
          <div class="body-sidebar-button-list-svg-more-box-button-svg">
            <svg
              t="1742372335780"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="8342"
              width="200"
              height="200"
            >
              <path
                d="M512 861.866667H162.133333V162.133333H512c17.066667 0 34.133333-12.8 34.133333-34.133333s-17.066667-34.133333-34.133333-34.133333H128c-17.066667 0-34.133333 17.066667-34.133333 34.133333v768c0 17.066667 12.8 34.133333 34.133333 34.133333h384c17.066667 0 34.133333-12.8 34.133333-34.133333s-17.066667-34.133333-34.133333-34.133333z"
                p-id="8343"
              ></path>
              <path
                d="M930.133333 512v-4.266667-8.533333c0-4.266667-4.266667-8.533333-8.533333-12.8L725.333333 298.666667c-12.8-12.8-34.133333-12.8-46.933333 0s-8.533333 29.866667 4.266667 42.666666l136.533333 136.533334H341.333333c-17.066667 0-34.133333 12.8-34.133333 34.133333s12.8 34.133333 34.133333 34.133333h477.866667L682.666667 682.666667c-12.8 12.8-12.8 34.133333 0 46.933333 4.266667 4.266667 12.8 8.533333 21.333333 8.533333s17.066667-4.266667 21.333333-8.533333l192-192c8.533333-8.533333 12.8-17.066667 12.8-25.6-4.266667 0 0 0 0 0z"
                p-id="8344"
              ></path>
            </svg>
          </div>
          <div>{{ moreBoxButtonText[5].name }}</div>
        </button>
      </div>
    </div>
  </div>
</template>

<style scoped>
.body-sidebar-button-list-svg-more-box-button {
  all: unset;
  width: 100%;
  height: 25px;
  border-radius: 3px;
  font-size: 13px;
  line-height: 25px;
  cursor: default;
  box-sizing: border-box;
  padding-left: 5px;
  display: grid;
  grid-template-columns: 20px auto;
  grid-column-gap: 5px;
}
.body-sidebar-button-list-svg-more-box-button:hover {
  background-color: #dcdee0;
}
.body-sidebar-button-list-svg-more-box-button-svg {
  display: grid;
  align-items: center;
}
.body-sidebar-button-list-svg-more-box {
  -webkit-user-select: none;
  -webkit-user-drag: none;
  box-sizing: border-box;
  padding: 5px 5px 5px 5px;
  display: flex;
  flex-direction: column;
  position: absolute;
  z-index: 6;
  background-color: rgba(255, 255, 255, 0.8);
  width: 177px;
  height: 160px;
  top: 17px;
  left: 48px;
  border-radius: 7px;
  box-shadow:
    5px 5px 10px rgba(128, 128, 128, 0.4),
    -5px 5px 10px rgba(128, 128, 128, 0.4);
}
img {
  width: 100%;
  height: 100%;
}
.body-sidebar {
  position: relative;
  -webkit-app-region: drag;
  background-color: rgba(225, 225, 225, 0.5);
  display: grid;
  box-sizing: border-box;
  padding: 10px 5px 10px 5px;
  justify-items: center;
  grid-template-rows: 30px 45px auto 180px;
  grid-row-gap: 10px;
}
.body-sidebar-logo {
  -webkit-user-select: none;
  width: 45px;
  height: 30px;
  line-height: 30px;
  text-align: center;
}
.body-sidebar-user_headshot {
  -webkit-app-region: no-drag;
  position: relative;
  width: 45px;
  height: 45px;
}
.body-sidebar-user_headshot img {
  -webkit-user-select: none;
  -webkit-user-drag: none;
  border-radius: 50%;
}
.body-sidebar-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.body-sidebar-list-svg,
.body-sidebar-button-list-svg {
  position: relative;
  -webkit-app-region: no-drag;
  width: 37px;
  height: 37px;
  display: grid;
  align-items: center;
  justify-content: center;
  border-radius: 7px;
}

.body-sidebar-list-svg.selected,
.body-sidebar-list-svg:hover {
  background-color: #dcdee0;
}
.body-sidebar-list-svg .icon path {
  fill: v-bind(accent_color);
}
.body-sidebar-list-svg:hover,
.body-sidebar-button-list-svg:hover {
  background-color: #dcdee0;
}
.body-sidebar-button-list-svg:hover .icon path {
  fill: v-bind(accent_color);
}
.icon {
  width: 20px;
  height: 20px;
}
.body-sidebar-button-list {
  position: relative;
  display: flex;
  flex-direction: column-reverse;
}
</style>
